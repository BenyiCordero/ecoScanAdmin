<!-- configuracion.html -->
<div class="container-fluid px-2 px-md-4">
    <!-- Header -->
    <div class="d-flex flex-column flex-sm-row justify-content-between align-items-start align-items-sm-center mb-4 gap-3">
        <div>
            <h4 class="fw-semibold mb-1">Configuración</h4>
            <p class="text-muted mb-0 small">Administra tu información de perfil</p>
        </div>
    </div>

    <div class="row g-4">
        <!-- Perfil del Usuario -->
        <div class="col-12 col-lg-6">
            <div class="panel-card rounded-15 p-4 h-100">
                <div class="d-flex align-items-center mb-4">
                    <div class="avatar-perfil rounded-circle d-flex align-items-center justify-content-center me-3">
                        <i class="bi bi-person-fill fs-4"></i>
                    </div>
                    <div>
                        <h5 class="fw-semibold mb-0" id="perfilNombreCompleto">Cargando...</h5>
                        <span class="badge bg-success" id="perfilRol">-</span>
                    </div>
                </div>

                <form id="formPerfil">
                    <div class="row g-3">
                        <div class="col-12">
                            <label for="perfilEmail" class="form-label fw-semibold">
                                Email
                            </label>
                            <input type="email" class="form-control bg-light" id="perfilEmail" disabled>
                            <small class="text-muted">El email no se puede modificar</small>
                        </div>
                        <div class="col-12 col-md-4">
                            <label for="perfilNombre" class="form-label fw-semibold pb-4">
                                Nombre <span class="text-danger">*</span>
                            </label>
                            <input type="text" class="form-control" id="perfilNombre" required maxlength="50">
                        </div>
                        <div class="col-12 col-md-4">
                            <label for="perfilPrimerApellido" class="form-label fw-semibold pb-4">
                                Primer Apellido <span class="text-danger">*</span>
                            </label>
                            <input type="text" class="form-control" id="perfilPrimerApellido" required maxlength="50">
                        </div>
                        <div class="col-12 col-md-4">
                            <label for="perfilSegundoApellido" class="form-label fw-semibold">
                                Segundo Apellido
                            </label>
                            <input type="text" class="form-control" id="perfilSegundoApellido" maxlength="50">
                        </div>
                    </div>
                    <div class="d-grid d-md-flex justify-content-md-end mt-4">
                        <button type="submit" class="btn btn-success">
                            <i class="bi bi-check-lg me-1"></i>Guardar Cambios
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Opciones de Cuenta -->
        <div class="col-12 col-lg-6">
            <div class="panel-card rounded-15 p-4 h-100">
                <h5 class="fw-semibold mb-4">
                    <i class="bi bi-gear me-2 text-success"></i>Opciones de Cuenta
                </h5>

                <div class="d-grid gap-3">
                    <!-- Reenviar Datos -->
                    <div class="action-card rounded-15 p-3 cursor-pointer" onclick="recargarDatosPerfil()">
                        <div class="d-flex align-items-center">
                            <div class="icon-option rounded-10 d-flex align-items-center justify-content-center me-3">
                                <i class="bi bi-arrow-clockwise"></i>
                            </div>
                            <div>
                                <div class="fw-semibold">Recargar Datos</div>
                                <small class="text-muted">Sincroniza tu información desde el servidor</small>
                            </div>
                            <i class="bi bi-chevron-right ms-auto text-muted"></i>
                        </div>
                    </div>
                    <!-- Cerrar Sesión -->
                    <div class="action-card rounded-15 p-3 cursor-pointer" onclick="cerrarSesion()">
                        <div class="d-flex align-items-center">
                            <div class="icon-option-logout rounded-10 d-flex align-items-center justify-content-center me-3">
                                <i class="bi bi-box-arrow-right"></i>
                            </div>
                            <div>
                                <div class="fw-semibold">Cerrar Sesión</div>
                                <small class="text-muted">Termina tu sesión actual</small>
                            </div>
                            <i class="bi bi-chevron-right ms-auto text-muted"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Confirmación para Eliminar Cuenta -->
<div class="modal fade" id="eliminarCuentaModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-15 border-0 shadow">
            <div class="modal-header border-0 pb-0">
                <h5 class="modal-title fw-semibold text-danger">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>Eliminar Cuenta
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
                <p>¿Estás seguro de que deseas <strong>eliminar tu cuenta</strong>?</p>
                <p class="text-muted small mb-0">Esta acción es irreversible y perderás acceso a todas las funcionalidades.</p>
                <div class="mt-3">
                    <label class="form-label fw-semibold">Escribe tu email para confirmar:</label>
                    <input type="email" class="form-control" id="confirmDeleteEmail" placeholder="correo@ejemplo.com">
                </div>
            </div>
            <div class="modal-footer border-0 pt-0">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger" onclick="confirmarEliminarCuenta()">
                    <i class="bi bi-trash me-1"></i>Eliminar Mi Cuenta
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    .avatar-perfil {
        width: 64px;
        height: 64px;
        background: linear-gradient(135deg, var(--accent), #a8e6cf);
        color: #08303a;
    }
    
    .icon-option {
        width: 44px;
        height: 44px;
        background: rgba(109, 211, 201, 0.15);
        color: var(--accent);
    }
    
    .icon-option-delete {
        width: 44px;
        height: 44px;
        background: rgba(220, 53, 69, 0.15);
        color: #dc3545;
    }
    
    .icon-option-delete {
        width: 44px;
        height: 44px;
        background: rgba(220, 53, 69, 0.1);
        color: #dc3545;
    }
    
    .icon-option-logout {
        width: 44px;
        height: 44px;
        background: rgba(255, 193, 7, 0.15);
        color: #ffc107;
    }
    
    .rounded-10 {
        border-radius: 10px;
    }
    
    .action-card {
        background: linear-gradient(180deg, #ffffff, #f6fbfb);
        border: 1px solid rgba(15, 23, 36, 0.03);
        transition: transform .12s ease, box-shadow .12s ease;
        cursor: pointer;
    }
    
    .action-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(109, 211, 201, 0.15);
        border-color: rgba(109, 211, 201, 0.2);
    }
    
    .cursor-pointer {
        cursor: pointer;
    }
    
    @media (max-width: 767.98px) {
        .action-card {
            padding: 1rem !important;
        }
        
        .icon-option,
        .icon-option-delete,
        .icon-option-logout {
            width: 36px;
            height: 36px;
            font-size: 0.9rem;
        }
    }
</style>
